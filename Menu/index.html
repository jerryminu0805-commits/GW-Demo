<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GOD'S WILL Demo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app" class="app">
    <div class="transition-mask visible covering"></div>
    <header class="global-header">
      <h1 class="game-title">GOD'S WILL</h1>
    </header>
    <!-- 背景音乐（循环自动播放，先静音后淡入） -->
    <audio id="bgm" src="LYSS (Cover).mp3" loop preload="auto" autoplay muted></audio>
    <!-- 关卡环境音效（剧情时播放） -->
    <audio id="stage-ambient" src="WaterWave.mp3" preload="auto" loop></audio>

    <main class="screen screen-menu active" data-screen="menu" aria-labelledby="menu-title">
      <div class="menu-background"></div>
      <div class="menu-content">
        <div class="logo-block" id="menu-title">
          <span class="logo-word">GOD'S</span>
          <span class="logo-word">WILL</span>
        </div>
        <nav class="menu-actions" aria-label="主菜单">
          <button class="menu-btn" data-target="chapters">开始</button>
          <button class="menu-btn" data-action="settings">设置</button>
          <button class="menu-btn" data-action="exit">离开</button>
          <button class="menu-btn" data-target="tutorial">教学</button>
        </nav>
      </div>
      <aside class="settings-panel" aria-hidden="true">
        <h2>设置</h2>
        <p>设置功能将在后续版本开放。敬请期待。</p>
        <button class="panel-close" type="button">关闭</button>
      </aside>
    </main>

    <main class="screen screen-chapters" data-screen="chapters" aria-labelledby="chapter-title">
      <div class="screen-inner">
        <header class="screen-bar">
          <button class="back-btn" data-target="menu" aria-label="返回菜单">返回</button>
        </header>
        <section class="chapter-board" id="chapter-title">
          <h2>章节选择</h2>
          <p class="chapter-tip">只有《Demo》已解锁，其余章节仍被封锁。</p>
          <div class="chapter-columns">
            <button class="chapter-card unlocked" data-chapter="demo">
              <span class="chapter-index">01</span>
              <span class="chapter-name">Demo</span>
              <span class="chapter-status">可用</span>
            </button>
            <button class="chapter-card locked" data-chapter="02">
              <span class="chapter-index">02</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
            <button class="chapter-card locked" data-chapter="03">
              <span class="chapter-index">03</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
            <button class="chapter-card locked" data-chapter="04">
              <span class="chapter-index">04</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
            <button class="chapter-card locked" data-chapter="05">
              <span class="chapter-index">05</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
            <button class="chapter-card locked" data-chapter="06">
              <span class="chapter-index">06</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
            <button class="chapter-card locked" data-chapter="07">
              <span class="chapter-index">07</span>
              <span class="chapter-name">Locked</span>
              <span class="chapter-status">锁定</span>
            </button>
          </div>
          <button class="duo-mode-btn" type="button">双人模式</button>
        </section>
      </div>
    </main>

    <main class="screen screen-duo" data-screen="duo" aria-labelledby="duo-title">
      <div class="screen-inner duo-mode">
        <header class="screen-bar">
          <button class="back-btn" data-target="chapters" aria-label="返回章节">返回章节</button>
        </header>
        <section class="duo-mode-panel">
          <h2 id="duo-title">双人模式</h2>
          <div class="duo-stage duo-confirmation active" data-step="confirm">
            <div class="duo-confirm-visual">
              <img src="DuoMode.PNG" alt="双人模式确认界面" />
            </div>
            <div class="duo-confirm-buttons">
              <button class="duo-confirm-btn left" type="button" data-player="1">玩家1确认</button>
              <button class="duo-confirm-btn right" type="button" data-player="2">玩家2确认</button>
            </div>
          </div>

          <div class="duo-stage duo-transition" data-step="transition" aria-hidden="true">
            <div class="duo-transition-text">玩家1选择技能</div>
          </div>

          <div class="duo-stage duo-skill-screen duo-player-1" data-player="1" aria-hidden="true">
            <div class="duo-skill-header">
              <h3>玩家1选择技能</h3>
            </div>
            <div class="duo-skill-layout">
              <div class="duo-skill-left">
                <nav class="duo-character-tabs" aria-label="玩家1角色选择"></nav>
                <div class="duo-portrait">
                  <img class="duo-portrait-image" src="" alt="玩家1角色立绘" />
                </div>
                <div class="duo-skill-slots"></div>
              </div>
              <div class="duo-skill-right">
                <div class="duo-skill-library"></div>
              </div>
            </div>
            <button class="duo-skill-confirm" type="button" data-player="1">确认</button>
          </div>

          <div class="duo-stage duo-skill-screen duo-player-2" data-player="2" aria-hidden="true">
            <div class="duo-skill-header">
              <h3>玩家2选择技能</h3>
            </div>
            <div class="duo-skill-layout">
              <div class="duo-skill-left">
                <nav class="duo-character-tabs" aria-label="玩家2角色选择"></nav>
                <div class="duo-portrait">
                  <img class="duo-portrait-image" src="" alt="玩家2角色立绘" />
                </div>
                <div class="duo-skill-slots"></div>
              </div>
              <div class="duo-skill-right">
                <div class="duo-skill-library"></div>
              </div>
            </div>
            <button class="duo-skill-confirm" type="button" data-player="2">确认</button>
          </div>

          <div class="duo-stage duo-battle-stage" data-step="battle" aria-hidden="true">
            <div class="duo-battle-board">
              <div class="duo-battle-header">
                <h3>双人对战</h3>
                <p>地图 17 × 13 · 单位等级 70 · 眩晕需累计 2 层触发</p>
              </div>
              <div class="duo-battle-area">
                <div class="duo-roll-overlay">
                  <div class="duo-roll-panel">
                    <div class="duo-roll-side">
                      <div class="duo-roll-label">玩家1</div>
                      <div class="duo-roll-number" data-side="left">-</div>
                      <button class="duo-roll-btn" type="button" data-side="left">摇</button>
                    </div>
                    <div class="duo-roll-divider"></div>
                    <div class="duo-roll-side">
                      <div class="duo-roll-label">玩家2</div>
                      <div class="duo-roll-number" data-side="right">-</div>
                      <button class="duo-roll-btn" type="button" data-side="right">摇</button>
                    </div>
                  </div>
                  <div class="duo-roll-message"></div>
                </div>
                <div class="duo-battle-grid"></div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <main class="screen screen-stages" data-screen="stages" aria-labelledby="stage-title">
      <div class="screen-inner">
        <header class="screen-bar">
          <button class="back-btn" data-target="chapters" aria-label="返回章节">返回章节</button>
          <div class="screen-bar-actions">
            <button class="characters-btn" data-target="characters">角色</button>
          </div>
        </header>
        <section class="stage-board" id="stage-title">
          <h2>Demo · 关卡选择</h2>
          <div class="stage-layout">
            <aside class="stage-list" aria-label="关卡列表">
              <button class="stage-item stage-intro active" data-stage="intro">Intro</button>
              <button class="stage-item stage-heresy" data-stage="firstHeresy">初见赫雷西</button>
              <button class="stage-item stage-abandoned" data-stage="abandonedAnimals">被遗弃的动物</button>
              <button class="stage-item stage-blood-tower" data-stage="bloodTowerPlan">血楼计划</button>
              <button class="stage-item stage-exhausted" data-stage="fatigue">疲惫的极限</button>
              <button class="stage-item stage-seven" data-stage="sevenSeas">七海</button>
              <button class="stage-item stage-old-love" data-stage="oldLove">旧情未了</button>
            </aside>
            <section class="stage-detail" aria-live="polite">
              <header class="stage-header">
                <h3 class="stage-name">Intro</h3>
                <p class="stage-subtitle">基础战斗演练</p>
              </header>
              <div class="stage-narrative"></div>
              <div class="map-panel">
                <div class="map-header">
                  <h4>战术地图预览</h4>
                  <span class="map-size"></span>
                </div>
                <div class="map-grid" role="img" aria-label="关卡战术地图"></div>
                <ul class="map-legend">
                  <li><span class="legend-chip legend-player"></span> 我方初始</li>
                  <li><span class="legend-chip legend-enemy"></span> 敌方单位</li>
                  <li><span class="legend-chip legend-cover"></span> 掩体</li>
                  <li><span class="legend-chip legend-void"></span> 空缺</li>
                </ul>
              </div>
              <div class="stage-brief"></div>
              <section class="enemy-roster">
                <h4>敌方阵容</h4>
                <div class="enemy-list"></div>
              </section>
              <div class="stage-actions">
                <button class="enter-btn" type="button">进入关卡</button>
              </div>
            </section>
          </div>
        </section>
      </div>
    </main>

    <main class="screen screen-characters" data-screen="characters" aria-labelledby="character-title">
      <div class="screen-inner">
        <header class="screen-bar">
          <button class="back-btn" data-target="stages" aria-label="返回关卡">返回关卡</button>
        </header>
        <section class="character-board" id="character-title">
          <h2>作战成员</h2>
          <div class="character-layout">
            <div class="character-portrait">
              <div class="portrait-frame">
                <div class="portrait-art" role="img" aria-label="角色立绘预览">
                  <img class="portrait-image" src="" alt="Adora 立绘" />
                </div>
              </div>
              <div class="character-level">Lv. <span class="level-number">20</span></div>
            </div>
            <div class="character-detail">
              <nav class="character-tabs" aria-label="角色选择">
                <button class="character-tab active" data-character="adora">Adora</button>
                <button class="character-tab" data-character="karma">Karma</button>
                <button class="character-tab" data-character="dario">Dario</button>
              </nav>
              <nav class="detail-tabs" aria-label="信息类型">
                <button class="detail-tab active" data-section="bio">介绍</button>
                <button class="detail-tab" data-section="skills">技能</button>
                <button class="detail-tab" data-section="accessories" id="accessories-tab" style="display: none;">配件</button>
                <button class="detail-tab" data-section="skillSelection" id="skill-selection-tab" style="display: none;">技能选择</button>
              </nav>
              <article class="detail-content"></article>
            </div>
          </div>
        </section>
      </div>
    </main>

    <main class="screen screen-tutorial" data-screen="tutorial" aria-labelledby="tutorial-title">
      <div class="screen-inner">
        <header class="screen-bar">
          <button class="back-btn" data-target="menu" aria-label="返回菜单">返回菜单</button>
        </header>
        <section class="tutorial-board" id="tutorial-title">
          <h2>教学</h2>
          <nav class="tutorial-tabs" aria-label="教学类别">
            <button class="tutorial-tab active" data-topic="basics">简短游戏玩法</button>
            <button class="tutorial-tab" data-topic="skills">技能</button>
            <button class="tutorial-tab" data-topic="effects">特殊效果（目前有的）</button>
            <button class="tutorial-tab" data-topic="enemies">敌人</button>
          </nav>
          <article class="tutorial-content"></article>
        </section>
      </div>
    </main>

    <section class="story-overlay" aria-hidden="true" role="dialog" aria-modal="true">
      <div class="story-backdrop"></div>
      <div class="story-characters"></div>
      <div class="story-panel">
        <div class="story-speaker" aria-live="polite"></div>
        <div class="story-text" aria-live="polite"></div>
        <div class="story-controls">
          <button class="story-skip" type="button">跳过</button>
          <button class="story-next" type="button">继续</button>
        </div>
      </div>
    </section>

    <div class="toast" role="status" aria-live="polite"></div>
  </div>

  <script src="portraits.js"></script>
  <script src="script.js"></script>
</body>
</html>
